<!DOCTYPE html>
<html lang="en">

<head>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta charset="utf-8">
	<meta name="author" content="Andrew Blake">
	<meta name="Description" content="Site settings">
	<title>Settings</title>
	<script src="script.js"></script>
	<link href="css.css" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css?family=Noto+Sans:400,700&display=swap" rel="stylesheet">
	<!--icon stuff-->
	<meta name="theme-color" content="#0094ff">
	<link rel="apple-touch-icon" sizes="180x180" href="img/apple-touch-icon.png">
	<link rel="icon" type="image/png" sizes="32x32" href="img/favicon.png">
	<link rel="icon" type="image/png" sizes="16x16" href="img/favicon-16x16.png">
	<link rel="manifest" href="site.webmanifest">
	<link rel="shortcut icon" href="img/favicon.ico">
	<meta name="apple-mobile-web-app-title" content="KKC clubs">
	<meta name="application-name" content="KKC clubs">
	<meta name="msapplication-TileColor" content="#0094ff">
	<meta name="msapplication-config" content="browserconfig.xml">

	<style>
		.sidenav {
			transition: width 0.25s cubic-bezier(0.25, 0.1, 0.1, 1), background-color 0.15s ease;
		}

		.mouseout {
			transition: left 0.25s cubic-bezier(0.25, 0.1, 0.1, 1), box-shadow 0.25s cubic-bezier(0.25, 0.1, 0.1, 1), background-color 0.15s ease;
		}

		.bodyText {
			transition: background 0.15s ease;
		}

		.dropbtn {
			transition: background 0.15s ease;
		}

		p {
			font-size: 175%;
			display: initial;
			transition: color 0.15s ease;
		}
	</style>
	<script>
		document.addEventListener('DOMContentLoaded', (event) => {
			startSettings();
		});

		function toggleTheme() {
			//sets site theme
			var themePref = localStorage.getItem("themePref");
			if (themePref == "dark") {
				light();
				localStorage.setItem("themePref", "light");
			} else {
				dark();
				localStorage.setItem("themePref", "dark");
			}
		}

		function toggleSound() {
			//sets site sounds
			var soundPref = localStorage.getItem("soundPref");
			if (soundPref == "on") {
				localStorage.setItem("soundPref", "off");
			} else {
				localStorage.setItem("soundPref", "on");
			}
		}

		function startSettings() {
			//sets toggle button state
			var userPref = localStorage.getItem("themePref");
			var soundPref = localStorage.getItem("soundPref");
			if (themePref == "dark") {
				document.getElementById("themeSwitch").checked = true;
			} else {
				document.getElementById("themeSwitch").checked = false;
			}
			if (soundPref == "on") {
				document.getElementById("audioSwitch").checked = true;
			} else {
				document.getElementById("audioSwitch").checked = false;
			}
		}
	</script>
	<script type="module">
		import {Workbox} from 'https://storage.googleapis.com/workbox-cdn/releases/4.3.1/workbox-window.prod.mjs';
		if ('serviceWorker' in navigator) {
			const wb = new Workbox('/service-worker.js');
			wb.addEventListener('waiting', (event) => {
				wb.addEventListener('controlling', (event) => {
					window.location.reload();
				});
				wb.messageSW({type: 'SKIP_WAITING'});
			});
		wb.register();
		}
	</script>
</head>

<body>
	<div id="mySidenav" class="sidenav">
		<a onmouseover="playHover()" href="index.html">Home</a>
		<a onmouseover="playHover()" href="robotics.html">Page 2</a>
		<a onmouseover="playHover()" href="evolocity.html">Page 3</a>
		<a onmouseover="playHover()" href="https://github.com/andrewthegreat5/andrewthegreat5.github.io/tree/master" target="_blank" rel="noopener">GitHub</a>
		<a href="#" class="active lower">Settings</a>
	</div>
	<div id="mouse" class="mouseout" onmouseover="openNav()">
		<div class="hamburger hamburger--arrowalt">
			<div class="hamburger-box">
				<div class="hamburger-inner"></div>
			</div>
		</div>
	</div>
	<div onmouseover="closeNav()">
		<div style="z-index: -99; width: 100%; height: 100vh; overflow: hidden; position: fixed;"></div>
		<div>
			<h1 class="title">Settings</h1>
		</div>
		<div class="bodyText">
			<p>Dark theme</p>
			<label class="input-toggle">
				<input aria-label="Dark theme" type="checkbox" id="themeSwitch" onclick="toggleTheme()">
				<span></span>
			</label>
		</div>
		<div class="dropbtn" onmouseover="openDrawer()" onmouseout="closeDrawer()">
			<p>Experiments</p>
			<div id="Drawer" class="dropdown-content">
				<br>
				<p>Allow sounds</p>
				<label class="input-toggle">
					<input aria-label="Allow sounds" type="checkbox" id="audioSwitch" onclick="toggleSound()">
					<span></span>
				</label>
				<a style="padding-top: 2.5%; color: var(--mainText); font-size: 125%; transition: color 0.15s ease;" href="signup.html">
					Link to example signup form
				</a>
				<a style="padding-top: 2.5%; color: var(--mainText); font-size: 125%; transition: color 0.15s ease;" href="#" onclick="createUIPrompt()">
					Example notification banner
				</a>
				<br>
			</div>
		</div>
		<div class="foot">
			<p>Author: Andrew Blake</p>
			<br>
			<p>Version 2.0.1</p>
		</div>
	</div>
</body>

</html>
